<ion-header [translucent]="true" style="background-color: rgb(150, 209, 219) !important;;">
  <ion-toolbar>
    <ion-buttons  slot="start">
        <ion-menu-button color="dark"></ion-menu-button>
    </ion-buttons>
    <ion-title>
      GIFTPARTY
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">
  <ion-fab vertical="bottom" horizontal="end" slot="fixed" style="bottom: 90px; right: 18px;">
    <ion-fab-button (click)="mostrarModalCrearEvento()">
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
  </ion-fab>

  <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)" pullFactor="0.5" pullMin="100" pullMax="200">
    <ion-refresher-content
      pullingIcon="chevron-down-circle-outline"
      pullingText="Desliza para actualizar"
      refreshingSpinner="crescent">
    </ion-refresher-content>
  </ion-refresher>

  <div class="carta ion-text-center">
    <h1 class="numEvento">Unirse a un evento</h1>
    <ion-item color="light" style="border-radius: 15px;">
      <ion-input #codigo maxlength="20" type="text" debounce="100" id="iidEvento"></ion-input>
    </ion-item>
    <ion-button style="margin-top: 15px;" expand="block" (click)="cambio(codigo.value)">
      Buscar
      <ion-icon name="search-outline" slot="icon-only" style="position: absolute;left: 0px;"></ion-icon>
    </ion-button>
    <ion-button style="margin-top: 15px;" expand="block" (click)="escanearCodigo()">
      Escanear Código
      <ion-icon name="qr-code-sharp" slot="icon-only" style="position: absolute;left: 0px;"></ion-icon>
    </ion-button>
  </div>

  <div *ngIf="this.patrocinadoresService.patrocinadores.length === 0">
    <ion-list >
      <ion-item class="ion-no-padding" lines="none" style="padding: 0px;">
        <ion-skeleton-text  animated style="width: 100%; height: 250px; border-radius: 12px;"></ion-skeleton-text>
        <ion-label>
          <h3 >
            <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
          </h3>
          <p>
            <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
          </p>
          <p>
            <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
          </p>
        </ion-label>
      </ion-item>

      <ion-item>
        <ion-label>
          <h1>
            <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
          </h1>
          <p>
            <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
          </p>
          <p>
            <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
          </p>
        </ion-label>
      </ion-item>
    </ion-list>
  </div>

  <!-- ION CARD PARA CADA PATROCINADOR -->
  <ion-card class="ion-no-margin b" *ngFor="let patrocinador of this.patrocinadoresService.patrocinadores" [ngStyle]="{'background-color': patrocinador.color}">
    <img [src]="patrocinador.imagen">
    <ion-card-content>
      <ion-card-header class="ion-no-padding">
        <ion-card-subtitle style="color: black; font-weight: bolder !important;">{{patrocinador.tipo}}</ion-card-subtitle>
        <ion-card-title>{{patrocinador.nombre}}</ion-card-title>
      </ion-card-header>
      <p>{{patrocinador.descripcion}}</p>
      <ion-item lines="none" style="--background:transparent">
        <ion-button fill="solid">Visitar Página WEB</ion-button>
        <ion-button fill="clear" slot="end" [href]="patrocinador.pagina" target="_blank">
          <ion-icon name="globe-outline" slot="icon-only"></ion-icon>
        </ion-button>
        <ion-button fill="clear" slot="end" [href]="'tel:' + patrocinador.telefono">
          <ion-icon name="call-outline" slot="icon-only"></ion-icon>
        </ion-button>
      </ion-item>
    </ion-card-content>
  </ion-card>

</ion-content>
